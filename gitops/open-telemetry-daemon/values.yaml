opentelemetry-collector:
  mode: daemonset
  presets:
    # enables the k8sattributesprocessor and adds it to the traces, metrics, and logs pipelines
    kubernetesAttributes:
      enabled: true
    # enables the kubeletstatsreceiver and adds it to the metrics pipelines
    kubeletMetrics:
      enabled: true
    # Enables the filelogreceiver and adds it to the logs pipelines
    logsCollection:
      enabled: true
  ## The chart only includes the loggingexporter by default
  ## If you want to send your data somewhere you need to
  ## configure an exporter, such as the otlpexporter
  # config:
  # exporters:
  #   otlp:
  #     endpoint: "<SOME BACKEND>"
  # service:
  #   pipelines:
  #     traces:
  #       exporters: [ otlp ]
  #     metrics:
  #       exporters: [ otlp ]
  #     logs:
  #       exporters: [ otlp ]

mode: deployment
# We only want one of these collectors - any more and we'd produce duplicate data
replicaCount: 1
presets:
  # enables the k8sclusterreceiver and adds it to the metrics pipelines
  clusterMetrics:
    enabled: true
  # enables the k8sobjectsreceiver to collect events only and adds it to the logs pipelines
  kubernetesEvents:
    enabled: true